 db.docs.aggregate([{$match:{details:{$exists:true}}},{$group: {_id:0, "Average": {$avg:"$details.age"}}},{$project:{_id:0}}])